!function(e,t){if("function"==typeof define&&define.amd)define(["exports","./Observer.js"],t);else if("undefined"!=typeof exports)t(exports,require("./Observer.js"));else{var n={exports:{}};t(n.exports,e.Observer),e.Cat=n.exports}}(this,function(e,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=n(t),o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=/\{\{((?:.|\n)+?)\}\}/g,f=function(){function e(t){var n=t.template,o=t.el,a=void 0===o?null:o,u=t.data,f=void 0===u?{}:u,s=t.watch,l=void 0===s?{}:s;t.methods;r(this,e),this.$template=n,this.$el=a,this.$watcher=this.__initWatcher(l),this.$data=new i["default"](f,this.$watcher),this.__render()}return a(e,[{key:"__initWatcher",value:function(e){var t={};for(var n in e)t[n]?t[n].push(this.__bindContext(e[n])):t[n]=[this.__bindContext(e[n])];return t}},{key:"__bindContext",value:function(e){if("function"==typeof e)return e.bind(this)}},{key:"__render",value:function(){this.$el.innerHTML=this.__parseTemplate()}},{key:"__parseTemplate",value:function(){var e=this.$data;return this.$template.replace(u,function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n[1].trim().replace(/\[(\d+)\]/g,".$1"),a=i.split(".");if(1===a.length)return e[i];for(var u=e,f=0;"object"===("undefined"==typeof u?"undefined":o(u));)u=u[a[f]],f++;return u})}},{key:"$watch",value:function(e,t){this.$watcher[e]?this.$watcher[e].push(this.__bindContext(t)):this.$watcher[e]=[this.__bindContext(t)]}}]),e}();e["default"]=f});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInZ1ZS9DYXQuanMiXSwibmFtZXMiOlsiZ2xvYmFsIiwiZmFjdG9yeSIsImRlZmluZSIsImFtZCIsImV4cG9ydHMiLCJyZXF1aXJlIiwibW9kIiwiT2JzZXJ2ZXIiLCJDYXQiLCJ0aGlzIiwiX09ic2VydmVyIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiX2NsYXNzQ2FsbENoZWNrIiwiaW5zdGFuY2UiLCJDb25zdHJ1Y3RvciIsIlR5cGVFcnJvciIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwidmFsdWUiLCJfT2JzZXJ2ZXIyIiwiX3R5cGVvZiIsIlN5bWJvbCIsIml0ZXJhdG9yIiwiY29uc3RydWN0b3IiLCJwcm90b3R5cGUiLCJfY3JlYXRlQ2xhc3MiLCJkZWZpbmVQcm9wZXJ0aWVzIiwidGFyZ2V0IiwicHJvcHMiLCJpIiwibGVuZ3RoIiwiZGVzY3JpcHRvciIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJ3cml0YWJsZSIsImtleSIsInByb3RvUHJvcHMiLCJzdGF0aWNQcm9wcyIsIlJFIiwiX3JlZiIsInRlbXBsYXRlIiwiX3JlZiRlbCIsImVsIiwidW5kZWZpbmVkIiwiX3JlZiRkYXRhIiwiZGF0YSIsIl9yZWYkd2F0Y2giLCJ3YXRjaCIsIm1ldGhvZHMiLCIkdGVtcGxhdGUiLCIkZWwiLCIkd2F0Y2hlciIsIl9faW5pdFdhdGNoZXIiLCIkZGF0YSIsIl9fcmVuZGVyIiwicHVzaCIsIl9fYmluZENvbnRleHQiLCJmbiIsImJpbmQiLCJpbm5lckhUTUwiLCJfX3BhcnNlVGVtcGxhdGUiLCJyZXBsYWNlIiwiX2xlbiIsImFyZ3VtZW50cyIsImFyZyIsIkFycmF5IiwiX2tleSIsInRyaW0iLCJrZXlBcnIiLCJzcGxpdCIsInJlc3VsdCJdLCJtYXBwaW5ncyI6IkNBQUEsU0FBV0EsRUFBUUMsR0FDbEIsR0FBc0Isa0JBQVhDLFNBQXlCQSxPQUFPQyxJQUMxQ0QsUUFBUSxVQUFXLGlCQUFr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LE1BQU0sSUFDdkIsSUFBc0IsSUFBbEJELEVBQU90QyxPQUNWLE1BQU9lLEdBQUtWLEVBSWIsS0FGQSxHQUFJbUMsR0FBU3pCLEVBQ1RoQixFQUFJLEVBQ2lCLFlBQWxCLG1CQUFPeUMsR0FBUCxZQUFBbEQsRUFBT2tELEtBQ2JBLEVBQVNBLEVBQU9GLEVBQU92QyxJQUN2QkEsR0FHRCxPQUFPeUMsUUEwRVBuQyxJQUFLLFNBQ0xqQixNQUFPLFNBdkVGaUIsRUFBS3NCLEdBQ1BuRCxLQUFLNkMsU0FBU2hCLEdBQ2pCN0IsS0FBSzZDLFNBQVNoQixHQUFLb0IsS0FBS2pELEtBQUtrRCxjQUFjQyxJQUczQ25ELEtBQUs2QyxTQUFTaEIsSUFBUTdCLEtBQUtrRCxjQUFjQyxRQTJFbkNwRCxJQUdSSixHQUFBQSxXQTdJb0JJIiwiZmlsZSI6InZ1ZS9DYXQuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgT2JzZXJ2ZXIgZnJvbSAnLi9PYnNlcnZlci5qcydcclxuXHJcbi8qICDljLnphY3lj4zlpKfmi6zlj7flhoXnmoTlhoXlrrkgICovXHJcbmNvbnN0IFJFID0gL1xce1xceygoPzoufFxcbikrPylcXH1cXH0vZ1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2F0IHtcclxuXHRjb25zdHJ1Y3Rvcih7XHJcblx0XHR0ZW1wbGF0ZSxcclxuXHRcdGVsID0gbnVsbCxcclxuXHRcdGRhdGEgPSB7fSxcclxuXHRcdHdhdGNoID0ge30sXHJcblx0XHRtZXRob2RzID0ge31cclxuXHR9KSB7XHJcblx0XHR0aGlzLiR0ZW1wbGF0ZSA9IHRlbXBsYXRlXHJcblx0XHR0aGlzLiRlbCA9IGVsXHJcblx0XHR0aGlzLiR3YXRjaGVyID0gdGhpcy5fX2luaXRXYXRjaGVyKHdhdGNoKVxyXG5cdFx0dGhpcy4kZGF0YSA9IG5ldyBPYnNlcnZlcihkYXRhLCB0aGlzLiR3YXRjaGVyKVxyXG5cdFx0dGhpcy5fX3JlbmRlcigpXHJcblx0fVxyXG5cdC8qICDliJ3lp4vljJZXYXRjaGVyICAqL1xyXG5cdF9faW5pdFdhdGNoZXIod2F0Y2gpIHtcclxuXHRcdGxldCBvYmogPSB7fVxyXG5cdFx0Zm9yIChsZXQga2V5IGluIHdhdGNoKSB7XHJcblx0XHRcdGlmIChvYmpba2V5XSkge1xyXG5cdFx0XHRcdG9ialtrZXldLnB1c2godGhpcy5fX2JpbmRDb250ZXh0KHdhdGNoW2tleV0pKVxyXG5cdFx0XHR9XHJcblx0XHRcdGVsc2Uge1xyXG5cdFx0XHRcdG9ialtrZXldID0gW3RoaXMuX19iaW5kQ29udGV4dCh3YXRjaFtrZXldKV1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIG9ialxyXG5cdH1cclxuXHQvKiAg57uR5a6a5pa55rOV55qE5LiK5LiL5paH5oyH5ZCRdGhpcyAgKi9cclxuXHRfX2JpbmRDb250ZXh0KGZuKSB7XHJcblx0XHRpZiAodHlwZW9mIGZuICE9PSAnZnVuY3Rpb24nKVxyXG5cdFx0XHRyZXR1cm5cclxuXHRcdFxyXG5cdFx0cmV0dXJuIGZuLmJpbmQodGhpcylcclxuXHR9XHJcblx0LyogIOW8gOWni+a4suafkyAgKi9cclxuXHRfX3JlbmRlcigpIHtcclxuXHRcdHRoaXMuJGVsLmlubmVySFRNTCA9IHRoaXMuX19wYXJzZVRlbXBsYXRlKClcclxuXHR9XHJcblx0LyogIOaooeadv+ino+aekO+8iOacquWujOaIkO+8iSAgKi9cclxuXHRfX3BhcnNlVGVtcGxhdGUoKSB7XHJcblx0XHRsZXQgZGF0YSA9IHRoaXMuJGRhdGFcclxuXHRcdHJldHVybiB0aGlzLiR0ZW1wbGF0ZS5yZXBsYWNlKFJFLCAoLi4uYXJnKSA9PiB7XHJcblx0XHRcdGxldCBrZXkgPSBhcmdbMV0udHJpbSgpLnJlcGxhY2UoL1xcWyhcXGQrKVxcXS9nLCAnLiQxJylcclxuXHRcdFx0bGV0IGtleUFyciA9IGtleS5zcGxpdCgnLicpXHJcblx0XHRcdGlmIChrZXlBcnIubGVuZ3RoID09PSAxKSB7XHJcblx0XHRcdFx0cmV0dXJuIGRhdGFba2V5XVxyXG5cdFx0XHR9XHJcblx0XHRcdGxldCByZXN1bHQgPSBkYXRhXHJcblx0XHRcdGxldCBpID0gMFxyXG5cdFx0XHR3aGlsZSAodHlwZW9mIHJlc3VsdCA9PT0gJ29iamVjdCcpIHtcclxuXHRcdFx0XHRyZXN1bHQgPSByZXN1bHRba2V5QXJyW2ldXVxyXG5cdFx0XHRcdGkrK1xyXG5cdFx0XHR9XHJcblx0XHRcdFxyXG5cdFx0XHRyZXR1cm4gcmVzdWx0XHJcblx0XHR9KVxyXG5cdH1cclxuXHQvKiAg5re75Yqgd2F0Y2ggICovXHJcblx0JHdhdGNoKGtleSwgZm4pIHtcclxuXHRcdGlmICh0aGlzLiR3YXRjaGVyW2tleV0pIHtcclxuXHRcdFx0dGhpcy4kd2F0Y2hlcltrZXldLnB1c2godGhpcy5fX2JpbmRDb250ZXh0KGZuKSlcclxuXHRcdH1cclxuXHRcdGVsc2Uge1xyXG5cdFx0XHR0aGlzLiR3YXRjaGVyW2tleV0gPSBbdGhpcy5fX2JpbmRDb250ZXh0KGZuKV1cclxuXHRcdH1cclxuXHR9XHJcbn0iXX0=
