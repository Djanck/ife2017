!function(t,i){if("function"==typeof define&&define.amd)define(["./initObject","./initLight","./initGui","./initCamera"],i);else if("undefined"!=typeof exports)i(require("./initObject"),require("./initLight"),require("./initGui"),require("./initCamera"));else{var e={exports:{}};i(t.initObject,t.initLight,t.initGui,t.initCamera),t.main=e.exports}}(this,function(t,i,e,n){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function h(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}var a=s(e),r=s(n),o=function(){function t(t,i){for(var e=0;e<i.length;e++){var n=i[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(i,e,n){return e&&t(i.prototype,e),n&&t(i,n),i}}(),l=function(){function e(){h(this,e),this.DEBUG=!1,this.cat_color=16777215,this.cat_size={width:150,height:100,depth:100,segments:20},this.plane_size={width:2e3,height:2e3,segments:20},this.wheel_size={radius:18,segments:20},this.reference=[],this.helper=[],this.texture=[],this.init()}return o(e,[{key:"init",value:function(){this.initScene(),this.initThree(),this.initLight(),this.initPlane(),this.initCat(),this.render(),this.initGui(),this.initControls(),this.initStats()}},{key:"initGui",value:function(){a["default"].call(this)}},{key:"initControls",value:function(){this.controls=new THREE.OrbitControls(this.camera),this.controls.enablePan=!1,this.controls.domElement=this.wrap}},{key:"initStats",value:function(){this.stats=new Stats,document.body.appendChild(this.stats.dom)}},{key:"initScene",value:function(){this.scene=new THREE.Scene}},{key:"initThree",value:function(){this.wrap=document.body,this.width=this.wrap.clientWidth,this.height=this.wrap.clientHeight,this.camera=r["default"].call(this),this.renderer=new THREE.WebGLRenderer({antialias:!0}),this.renderer.gammaInput=!0,this.renderer.gammaOutput=!0,this.renderer.shadowMap.enabled=!0,this.renderer.shadowMap.type=THREE.PCFSoftShadowMap,this.renderer.setSize(this.width,this.height),this.wrap.appendChild(this.renderer.domElement),this.renderer.setClearColor(15987699,1)}},{key:"initLight",value:function(){this.Amlight=i.initAmbientLight.call(this),this.scene.add(this.Amlight),this.Dilight=i.initDirectionalLight.call(this),this.Dilight.position.set(60,80,-80),this.scene.add(this.Dilight),this.SpotLight=i.initSpotLight.call(this),this.SpotLight.position.set(130,170,-170),this.scene.add(this.SpotLight);var t=new THREE.SpotLightHelper(this.SpotLight);t.visible=this.DEBUG,this.helper.push(t),this.scene.add(t)}},{key:"initPlane",value:function(){this.plane=t.createPlane.call(this),this.plane.geometry.rotateX(-Math.PI/2),this.plane.position.set(0,-(this.cat_size.height/2+this.wheel_size.radius),0),this.scene.add(this.plane)}},{key:"initCat",value:function(){var i=this;this.cat=t.createBox.call(this),this.scene.add(this.cat);var e=[.5*this.cat_size.width-20,.5*-this.cat_size.height,.5*this.cat_size.depth],n=[[1,1],[-1,-1],[1,-1],[-1,1]];this.wheel=Array.from(new Array(4),function(s,h){var a=t.createTorus.call(i);return a.position.set(e[0]*n[h][0],e[1],e[2]*n[h][1]),i.scene.add(a),a})}},{key:"render",value:function(){this.animation(),this.stats&&this.stats.begin(),Array.from(this.texture,function(t){return t.needsUpdate=!0}),this.renderer.render(this.scene,this.camera),this.stats&&this.stats.end(),requestAnimationFrame(this.render.bind(this))}},{key:"animation",value:function(){}}]),e}();new l});