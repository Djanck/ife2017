!function(e,t){if("function"==typeof define&&define.amd)define(["exports"],t);else if("undefined"!=typeof exports)t(exports);else{var r={exports:{}};t(r.exports),e.initObject=r.exports}}(this,function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=0,r=e.writeName=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1800,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1200,o=arguments[3],i=arguments[4];e.clearRect(0,0,r,a),1===i?e.drawImage(o,0,0,r,a):e.drawImage(o,(o.width-o.height)/2,0,o.height,o.height,0,0,a,a);var n=e.createLinearGradient(r/2-600,a/2-200,r/2+600,a/2+200);n.addColorStop(t%1,"rgba(6, 219, 198, .8)"),n.addColorStop((t+.2)%1,"rgba(155, 89, 182, .8)"),n.addColorStop((t+.4)%1,"rgba(52, 152, 255, .8)"),n.addColorStop((t+.6)%1,"rgba(253, 99, 53, .8)"),n.addColorStop((t+.8)%1,"rgba(253, 236, 53, .8)"),n.addColorStop((t+1)%1,"rgba(102, 219, 6, .8)");var h="NightCAT";e.font="bold "+(1===i?120:80)+"px Courier New";e.measureText(h);e.textAlign="center",e.fillStyle=n,e.fillText(h,r/2,a/2)};e.createBox=function(){var e=this,a=this.cat_size,o=a.width,i=a.height,n=a.depth,h=a.segments,s=new THREE.BoxGeometry(o,i,n,h,h,h),d=document.createElement("CANVAS"),w=d.getContext("2d");d.width=1024,d.height=512;var l=document.createElement("CANVAS"),p=l.getContext("2d");l.width=512,l.height=512;var g=new Image;g.onload=function(){setInterval(function(){t+=.01,r(w,d.width,d.height,g,1),r(p,l.width,l.height,g,2)},16)},g.src="../../asset/image/bg.jpg";var E=Array.from(new Array(6),function(t,r){var a=void 0;return a=r<=1?new THREE.Texture(l):new THREE.Texture(d),a.wrapS=a.wrapT=THREE.RepeatWrapping,e.texture.push(a),new THREE.MeshPhongMaterial({color:e.cat_color,wireframe:e.DEBUG,overdraw:!0,map:a})}),c=new THREE.Mesh(s,new THREE.MultiMaterial(E));return c.castShadow=!0,c},e.createTorus=function(){var e=new THREE.TorusGeometry(this.wheel_size.radius-6,6,this.wheel_size.segments,50),t=(new THREE.TextureLoader).load("../../asset/image/wheel.png");t.wrapS=t.wrapT=THREE.RepeatWrapping,t.repeat.set(20,1);var r=new THREE.MeshPhongMaterial({color:this.cat_color,wireframe:this.DEBUG,map:t}),a=new THREE.Mesh(e,r);return a},e.createPlane=function(){var e=this.plane_size,t=e.width,r=e.height,a=e.segments,o=new THREE.PlaneGeometry(t,r,a,a),i=(new THREE.TextureLoader).load("../../asset/image/wood.png");i.wrapS=i.wrapT=THREE.RepeatWrapping,i.repeat.set(20,20);var n=new THREE.MeshPhongMaterial({color:16777215,wireframe:this.DEBUG,map:i}),h=new THREE.Mesh(o,n);return h.receiveShadow=!0,h}});